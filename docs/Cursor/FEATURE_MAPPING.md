# Cursor使用記録アプリケーション - 機能マッピング

## 概要
このドキュメントは、Cursor使用記録アプリケーションの各ファイルに機能番号を付けて管理するためのマッピング表です。機能ごとにファイルを分類し、保守性と理解性を向上させます。

## 機能分類体系

### 1. コア機能 (F001-F099)

#### F001: メインダッシュボード
- **目的**: アプリケーションのメインエントリーポイント
- **ファイル**:
  - `index.html` - メインダッシュボードページ
  - `js/index.js` - ダッシュボード用JavaScript

#### F002: 使用記録管理
- **目的**: Cursor使用状況の記録と表示
- **ファイル**:
  - `pages/records.html` - 使用記録ページ
  - `js/records.js` - 使用記録用JavaScript

#### F003: サマリー機能
- **目的**: 使用状況のサマリー表示と分析
- **ファイル**:
  - `pages/summary.html` - サマリーページ
  - `js/summary.js` - サマリー用JavaScript

#### F004: 使用イベント管理
- **目的**: 詳細な使用イベントの記録と分析
- **ファイル**:
  - `pages/usage-events.html` - 使用イベントページ
  - `js/usage-events.js` - 使用イベント用JavaScript

#### F005: 旧形式サポート
- **目的**: 旧形式データの表示と管理
- **ファイル**:
  - `pages/old-format.html` - 旧形式ページ
  - `pages/old/included-usage.html` - 旧形式使用状況ページ
  - `pages/old/usage.html` - 旧形式使用ページ
  - `js/old/included-usage.js` - 旧形式使用状況JavaScript
  - `js/old/usage.js` - 旧形式使用JavaScript

### 2. 共通機能 (F100-F199)

#### F100: 共通スタイル
- **目的**: アプリケーション全体のスタイリング
- **ファイル**:
  - `css/common.css` - 共通CSS

#### F101: 共通JavaScript
- **目的**: 共通で使用されるJavaScript機能
- **ファイル**:
  - `js/common.js` - 共通JavaScript

#### F102: ヘッダー管理
- **目的**: ナビゲーションヘッダーの動的読み込み
- **ファイル**:
  - `components/header-main.html` - メインヘッダー
  - `components/header-old.html` - 旧形式ヘッダー
  - `js/header-loader.js` - ヘッダーローダー

#### F103: バージョン情報管理
- **目的**: アプリケーションのバージョン情報表示
- **ファイル**:
  - `components/version-modal.html` - バージョン情報モーダル
  - `js/version-loader.js` - バージョンローダー
  - `data/version-info.yaml` - バージョン情報データ

### 3. データ管理機能 (F200-F299)

#### F200: データファイル
- **目的**: アプリケーションで使用するデータファイル
- **ファイル**:
  - `record.xlsx` - メインデータファイル

#### F201: 統合データ
- **目的**: 統合された使用データ
- **ファイル**:
  - `tool/all-raw-events/data/usage-events.csv` - 統合使用イベントデータ
  - `tool/all-raw-events/data/old/usage-tokens.csv` - 旧形式トークンデータ
  - `tool/all-raw-events/data/old/usage-details.csv` - 旧形式詳細データ

#### F202: アーカイブデータ
- **目的**: 過去のデータのアーカイブ
- **ファイル**:
  - `tool/all-raw-events/input/archive/usage-events/` - アーカイブされた使用イベント
  - `tool/all-raw-events/input/old/usage-details/` - アーカイブされた詳細データ
  - `tool/all-raw-events/input/old/usage-tokens/` - アーカイブされたトークンデータ

### 4. データ処理機能 (F300-F399)

#### F300: データ更新ツール
- **目的**: データの自動更新と処理
- **ファイル**:
  - `tool/all-raw-events/update-events.js` - 使用イベント更新ツール
  - `tool/all-raw-events/old/update-details.js` - 詳細データ更新ツール
  - `tool/all-raw-events/old/update-tokens.js` - トークンデータ更新ツール

### 5. ドキュメント機能 (F400-F499)

#### F400: プロジェクトドキュメント
- **目的**: プロジェクトの説明と管理情報
- **ファイル**:
  - `README.md` - プロジェクト概要
  - `FEATURE_MAPPING.md` - この機能マッピングファイル

## 機能番号付けルール

### 番号体系
- **F001-F099**: コア機能（メインのアプリケーション機能）
- **F100-F199**: 共通機能（複数の機能で共有される機能）
- **F200-F299**: データ管理機能（データファイルとデータベース関連）
- **F300-F399**: データ処理機能（データの処理・変換・更新）
- **F400-F499**: ドキュメント機能（ドキュメントとメタ情報）

### 命名規則
- 機能番号は `F` + 3桁の数字で構成
- 機能名は日本語で分かりやすく記述
- 関連ファイルは機能番号の下にリスト化

## 使用方法

### 新機能追加時
1. 適切な機能カテゴリを決定
2. 利用可能な機能番号を割り当て
3. このマッピングファイルを更新
4. ファイル名に機能番号を含める（オプション）

### ファイル検索時
1. 機能番号で目的の機能を特定
2. 関連ファイルを確認
3. 機能の依存関係を理解

### 保守作業時
1. 変更対象の機能番号を確認
2. 関連ファイルを特定
3. 影響範囲を把握

## 更新履歴

| 日付 | バージョン | 変更内容 |
|------|------------|----------|
| 2024-12-19 | v1.0.0 | 初版作成 |

## 注意事項

- 機能番号は一度割り当てたら変更しない
- 新機能追加時は既存の番号体系に従う
- ファイルの移動や削除時はこのマッピングを更新する
- 機能の統合や分割時は適切に番号を再割り当てする

---

**作成日**: 2024年12月19日
**作成者**: AI Assistant
**対象プロジェクト**: Cursor使用記録アプリケーション
