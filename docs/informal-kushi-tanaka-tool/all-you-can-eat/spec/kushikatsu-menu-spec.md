# 串カツメニュー計算サイト 仕様書

## 概要

Excelにまとめた串カツ名と値段を元に、GitHub Pagesで公開する計算サイトを作成する。
ユーザーは串カツの種類・個数を選び、合計金額を確認できる。

## ファイル構成

- ベースパス: `Blog\docs\informal-kushi-tanaka-tool\all-you-can-eat`
- データファイル: `Blog\docs\informal-kushi-tanaka-tool\all-you-can-eat\data\串メニュー.xlsx`
- 実装ファイル:
  - `index.html` - メインHTMLファイル
  - `style.css` - スタイルシート
  - `script.js` - JavaScript機能実装

---

## 要件

### データ

- Excelファイル（`data`フォルダ内）に以下の情報を用意する
  - **番号**（1-32の連番）
  - **分類**（その他、肉串、海鮮串、野菜串、他串、甘串）
  - **名称**（串カツの具体的な名前）
  - **単価**（各串カツの価格）
- GitHub Pagesに表示できる形式に変換する（例: JSONやCSV）

### メニュー項目詳細

#### 分類別メニュー構成

※以下はメニュー分類と項目の例です。実際の内容はExcelファイルに準じます。

- **その他**（例）: お通しなど
- **肉串**（例）: 串カツ豚、串カツ牛、ハムカツ、豚ヒレ、タコウィンナー、ラム、鶏むね、鶏つくね、ささみ梅大葉、ささみわさび、豚しそ
- **海鮮串**（例）: つぶ貝、アジフライ、キス、たらこ、エビ
- **野菜串**（例）: レンコン、玉ねぎ、じゃが芋、ニンニク、紅しょうが、なすび、しいたけ、トマト、山芋、アスパラ
- **他串**（例）: うずら、チーズ、もち
- **甘串**（例）: クッキー&クリーム、バナナ

### 表示

- 番号、分類、名称、単価を表形式で表示する
- 個数はプルダウンで選択できる
- 分類ごとにグループ化して表示する

### 計算

- 選んだ串カツの**合計金額**を表示する
- プルダウン選択後、自動で合計を更新する

### データ保持

- 選択した個数と値段は**ローカルストレージに保存**される
- ページを再読み込みしてもデータが保持される

### 値段の編集

- 単価は画面上から変更可能
- 編集後は保存され、計算に反映される

### ボタン機能

- **クリアボタン**
  - 個数のみを0に初期化する

- **初期化ボタン**
  - 価格と個数を初期化する（Excelにある元のデータに戻す）

## データ仕様

### Excelファイル形式

- 列構成: 番号、分類、名称、単価
- 項目数と分類数はExcelファイルから自動取得
- 分類（例）: その他、肉串、海鮮串、野菜串、他串、甘串

### データ取得

- 価格情報はExcelファイルから動的に読み込み
- メニュー項目の追加・削除はExcelファイルの更新で対応

## 技術仕様

### 実装技術

- **HTML5**: セマンティックなマークアップで構造化
- **CSS3**: レスポンシブデザインとモダンなUI
- **JavaScript (ES6+)**: 動的機能とローカルストレージ管理

### ファイル構成詳細

#### index.html

- メニュー表示用のテーブル構造
- プルダウン選択要素
- 合計金額表示エリア
- ボタン要素（クリア、初期化）

#### style.css

- レスポンシブデザイン（モバイル・デスクトップ対応）
- 分類別の色分け表示
- ユーザビリティを考慮したUI/UX

#### script.js

- データ読み込み機能（JSON/CSV形式）
- 個数選択と合計計算ロジック
- ローカルストレージの読み書き
- 価格編集機能
- ボタン機能実装

### データ形式

- **Excelファイル直接読み込み**: `data/串メニュー.xlsx`
- GitHub Pagesでバックエンド無しで動作（フロントエンドのみ）
- JavaScriptライブラリを使用してExcelファイルを読み込み

### Excel読み込み方法

#### 使用ライブラリ

- **SheetJS (xlsx.js)**: ExcelファイルをJavaScriptで読み込む
- CDN経由で読み込み: `https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js`

#### データ構造

Excelファイルの列構成:

- A列: 番号
- B列: 分類
- C列: 名称
- D列: 単価

### GitHub Pages対応

- **静的サイト**: バックエンドサーバー不要
- **データ読み込み**: SheetJSライブラリでExcelファイルを直接読み込み
- **ファイル配置**:

```text
  all-you-can-eat/
  ├── index.html
  ├── style.css
  ├── script.js
  └── data/
      └── 串メニュー.xlsx
```

- **CORS制限**: 同一ドメイン内のファイルアクセスのため制限なし

### 実装例

```javascript
// Excelファイル読み込み
function loadExcelData() {
  fetch('./data/串メニュー.xlsx')
    .then(response => response.arrayBuffer())
    .then(data => {
      const workbook = XLSX.read(data, {type: 'array'});
      const sheetName = workbook.SheetNames[0];
      const worksheet = workbook.Sheets[sheetName];
      const jsonData = XLSX.utils.sheet_to_json(worksheet);
      // データを処理
    });
}
```
